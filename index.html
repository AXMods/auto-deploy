<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ Vercel Instant Deploy</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; }
        body { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            width: 100%;
            max-width: 500px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        h1 {
            color: #333;
            margin-bottom: 10px;
            text-align: center;
        }
        .subtitle {
            color: #666;
            text-align: center;
            margin-bottom: 30px;
        }
        .upload-area {
            border: 3px dashed #ddd;
            border-radius: 15px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 20px;
        }
        .upload-area:hover, .upload-area.dragover {
            border-color: #667eea;
            background: #f8f9ff;
        }
        .upload-icon {
            font-size: 50px;
            color: #667eea;
            margin-bottom: 10px;
        }
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: transform 0.2s;
        }
        .btn:hover {
            transform: translateY(-2px);
        }
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .result {
            margin-top: 20px;
            padding: 20px;
            border-radius: 10px;
            background: #f8f9fa;
            display: none;
        }
        .success { border-left: 4px solid #10b981; }
        .error { border-left: 4px solid #ef4444; }
        .loading { border-left: 4px solid #f59e0b; }
        .url-box {
            background: white;
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
            font-family: monospace;
            word-break: break-all;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffc107;
            color: #856404;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ Vercel Instant Deploy</h1>
        <p class="subtitle">Upload HTML ‚Üí Dapat URL Live dalam 30 detik</p>
        
        <div class="upload-area" id="dropZone">
            <div class="upload-icon">üìÅ</div>
            <h3 id="dropText">Klik atau tarik file HTML ke sini</h3>
            <p style="color: #666;">Hanya file .html ‚Ä¢ Maks 5MB</p>
            <input type="file" id="fileInput" accept=".html" style="display: none;">
        </div>
        
        <button class="btn" id="deployBtn" disabled>üì§ Deploy Sekarang</button>
        
        <div class="result" id="resultBox">
            <h3 id="resultTitle"></h3>
            <p id="resultMessage"></p>
            <div class="url-box" id="urlBox" style="display: none;">
                <a id="urlLink" target="_blank"></a>
            </div>
            <div id="actionButtons" style="display: none; margin-top: 15px;">
                <button class="btn" onclick="window.open(deploymentUrl, '_blank')" style="margin-right: 10px;">üåê Buka Website</button>
                <button class="btn" onclick="copyToClipboard()">üìã Salin URL</button>
            </div>
        </div>
        
        <div class="warning">
            ‚ö†Ô∏è <strong>Hanya untuk testing!</strong><br>
            Token Vercel bisa dilihat di source code. Jangan gunakan untuk produksi!
        </div>
    </div>

    <script>
        // ========== TOKEN VERCEL KAMU ==========
        // ‚ö†Ô∏è GANTI INI DENGAN TOKEN ASLI KAMU ‚ö†Ô∏è
        const VERCEL_TOKEN = "hDnCtuOxd41GL0Qu1N13JwIk";
        // =======================================
        
        const dropZone = document.getElementById('dropZone');
        const fileInput = document.getElementById('fileInput');
        const deployBtn = document.getElementById('deployBtn');
        const dropText = document.getElementById('dropText');
        const resultBox = document.getElementById('resultBox');
        const resultTitle = document.getElementById('resultTitle');
        const resultMessage = document.getElementById('resultMessage');
        const urlBox = document.getElementById('urlBox');
        const urlLink = document.getElementById('urlLink');
        const actionButtons = document.getElementById('actionButtons');
        
        let selectedFile = null;
        let deploymentUrl = "";
        
        // Drag & Drop
        dropZone.addEventListener('click', () => fileInput.click());
        fileInput.addEventListener('change', (e) => handleFile(e.target.files[0]));
        
        ['dragover', 'dragenter'].forEach(event => {
            dropZone.addEventListener(event, (e) => {
                e.preventDefault();
                dropZone.classList.add('dragover');
            });
        });
        
        ['dragleave', 'dragend', 'drop'].forEach(event => {
            dropZone.addEventListener(event, (e) => {
                e.preventDefault();
                dropZone.classList.remove('dragover');
                if (event === 'drop' && e.dataTransfer.files[0]) {
                    handleFile(e.dataTransfer.files[0]);
                }
            });
        });
        
        function handleFile(file) {
            if (!file.name.endsWith('.html')) {
                showResult('error', '‚ùå File harus HTML', 'Hanya file dengan ekstensi .html yang didukung');
                return;
            }
            
            if (file.size > 5 * 1024 * 1024) {
                showResult('error', '‚ùå File terlalu besar', 'Maksimal ukuran file: 5MB');
                return;
            }
            
            selectedFile = file;
            dropText.textContent = `‚úÖ ${file.name}`;
            deployBtn.disabled = false;
            deployBtn.textContent = `Deploy "${file.name}"`;
        }
        
        // Deploy function
        deployBtn.addEventListener('click', async () => {
            if (!selectedFile || !VERCEL_TOKEN || VERCEL_TOKEN === "YOUR_VERCEL_TOKEN_HERE") {
                showResult('error', '‚ùå Token belum diatur', 'Edit file ini dan ganti VERCEL_TOKEN dengan token asli!');
                return;
            }
            
            deployBtn.disabled = true;
            deployBtn.textContent = '‚è≥ Sedang mendeploy...';
            showResult('loading', 'üöÄ Sedang mendeploy...', 'Tunggu sekitar 30 detik...');
            
            try {
                const fileContent = await readFileAsText(selectedFile);
                const base64Content = btoa(unescape(encodeURIComponent(fileContent)));
                
                const projectName = `html-${Date.now()}-${Math.random().toString(36).substr(2, 5)}`;
                
                // Kirim langsung ke Vercel API dari browser
                const response = await fetch('https://api.vercel.com/v13/deployments', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${VERCEL_TOKEN}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        name: projectName,
                        files: [{
                            file: 'index.html',
                            data: base64Content
                        }],
                        projectSettings: {
                            framework: null
                        },
                        target: 'production'
                    })
                });
                
                const data = await response.json();
                
                if (response.ok && data.url) {
                    deploymentUrl = `https://${data.url}`;
                    showResult('success', '‚úÖ Deploy Berhasil!', 
                        'Website kamu sekarang live di:',
                        deploymentUrl
                    );
                } else {
                    throw new Error(data.error?.message || JSON.stringify(data));
                }
            } catch (error) {
                showResult('error', '‚ùå Gagal Deploy', error.toString());
            } finally {
                deployBtn.disabled = false;
                deployBtn.textContent = 'üì§ Deploy Sekarang';
            }
        });
        
        function showResult(type, title, message, url = null) {
            resultBox.style.display = 'block';
            resultBox.className = `result ${type}`;
            resultTitle.textContent = title;
            resultMessage.textContent = message;
            
            if (url) {
                urlBox.style.display = 'block';
                urlLink.href = url;
                urlLink.textContent = url;
                actionButtons.style.display = 'block';
            } else {
                urlBox.style.display = 'none';
                actionButtons.style.display = 'none';
            }
        }
        
        function readFileAsText(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = e => resolve(e.target.result);
                reader.onerror = e => reject(e);
                reader.readAsText(file);
            });
        }
        
        function copyToClipboard() {
            if (!deploymentUrl) return;
            
            navigator.clipboard.writeText(deploymentUrl).then(() => {
                alert('‚úÖ URL disalin ke clipboard!');
            });
        }
        
        // Auto-hide success setelah 1 menit
        setInterval(() => {
            if (resultBox.classList.contains('success')) {
                resultBox.style.display = 'none';
            }
        }, 60000);
    </script>
</body>
</html>
